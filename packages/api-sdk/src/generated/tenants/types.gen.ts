// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
    baseUrl: `${string}://${string}/api/v1` | (string & {});
};

export type Tenant = {
    tenantId: PrimitivesUuid;
    slug: PrimitivesSlug;
    displayName?: string;
    status: TenantStatus;
    provisioning: TenantProvisioningStatus;
    /**
     * Derived PostgreSQL schema name for the tenant (`tenant_<slugSnake>`).
     */
    readonly schemaName: string;
    /**
     * Derived GCS base prefix `<envKey>/<tenantSlug>-<shortTenantId>/`. envKey comes from deployment config; prefix is computed server-side and immutable.
     */
    readonly basePrefix: string;
    /**
     * First 8 hexadecimal characters of tenantId, used in prefixes.
     */
    readonly shortTenantId: string;
    createdAt: PrimitivesTimestamp;
    createdBy: PrimitivesUuid;
};

export type CreateTenant = {
    slug: PrimitivesSlug;
    displayName?: string;
    status?: TenantStatus;
};

/**
 * Update mutable tenant fields. Slug and derived fields are immutable after creation.
 */
export type UpdateTenant = {
    displayName?: string;
    status?: TenantStatus;
};

/**
 * Tenant lifecycle state (admin-only managed).
 */
export type TenantStatus = 'active' | 'disabled' | 'pending' | 'provisioning';

/**
 * Current provisioning state for tenant environment resources (admin-only, read-only).
 */
export type TenantProvisioningStatus = {
    /**
     * PostgreSQL tenant schema has been created and base tables provisioned.
     */
    readonly dbReady: boolean;
    /**
     * External auth tenant (e.g., Firebase/Identity) has been created and linked.
     */
    readonly authReady: boolean;
    /**
     * Tenant storage namespace is reachable (e.g., GCS bucket/prefix or local backend).
     */
    readonly storageReady: boolean;
    lastProvisionedAt?: PrimitivesTimestamp;
    /**
     * Optional last provisioning error, if any.
     */
    readonly lastError?: string;
};

export type PaginationPaginationMeta = {
    page: number;
    pageSize: number;
    totalItems: number;
    totalPages: number;
};

/**
 * Kebab-case slug used in URLs
 */
export type PrimitivesSlug = string;

/**
 * ISO 8601 timestamp in UTC
 */
export type PrimitivesTimestamp = string;

/**
 * RFC 4122 UUID string
 */
export type PrimitivesUuid = string;

/**
 * RFC 7807 Problem Details
 */
export type ProblemdetailsProblemDetails = {
    /**
     * A URI reference that identifies the problem type
     */
    type?: string;
    /**
     * A short, human-readable summary of the problem type
     */
    title: string;
    /**
     * The HTTP status code
     */
    status: number;
    /**
     * A human-readable explanation specific to this occurrence of the problem
     */
    detail?: string;
    /**
     * A URI reference that identifies the specific occurrence of the problem
     */
    instance?: string;
    /**
     * Optional map of field-level validation errors
     */
    errors?: {
        [key: string]: Array<string>;
    };
};

export type TenantWritable = {
    tenantId: PrimitivesUuid;
    slug: PrimitivesSlug;
    displayName?: string;
    status: TenantStatus;
    provisioning: TenantProvisioningStatusWritable;
    createdAt: PrimitivesTimestamp;
};

/**
 * Current provisioning state for tenant environment resources (admin-only, read-only).
 */
export type TenantProvisioningStatusWritable = {
    lastProvisionedAt?: PrimitivesTimestamp;
};

/**
 * 1-indexed page number
 */
export type PaginationPage = number;

/**
 * Number of items per page (max 100)
 */
export type PaginationPageSize = number;

/**
 * Sort fields, e.g. 'name,-createdAt'
 */
export type PaginationSort = string;

export type TenantsListData = {
    body?: never;
    path?: never;
    query?: {
        /**
         * 1-indexed page number
         */
        page?: number;
        /**
         * Number of items per page (max 100)
         */
        pageSize?: number;
        /**
         * Sort fields, e.g. 'name,-createdAt'
         */
        sort?: string;
        /**
         * Optional filter by tenant status
         */
        status?: TenantStatus;
    };
    url: '/admin/tenants';
};

export type TenantsListErrors = {
    /**
     * Error (RFC 7807)
     */
    default: ProblemdetailsProblemDetails;
};

export type TenantsListError = TenantsListErrors[keyof TenantsListErrors];

export type TenantsListResponses = {
    /**
     * Paged list of tenants
     */
    200: {
        items: Array<Tenant>;
    } & PaginationPaginationMeta;
};

export type TenantsListResponse = TenantsListResponses[keyof TenantsListResponses];

export type TenantsCreateData = {
    body: CreateTenant;
    path?: never;
    query?: never;
    url: '/admin/tenants';
};

export type TenantsCreateErrors = {
    /**
     * Error (RFC 7807)
     */
    default: ProblemdetailsProblemDetails;
};

export type TenantsCreateError = TenantsCreateErrors[keyof TenantsCreateErrors];

export type TenantsCreateResponses = {
    /**
     * Tenant created
     */
    201: Tenant;
};

export type TenantsCreateResponse = TenantsCreateResponses[keyof TenantsCreateResponses];

export type TenantsGetData = {
    body?: never;
    path: {
        tenantId: PrimitivesUuid;
    };
    query?: never;
    url: '/admin/tenants/{tenantId}';
};

export type TenantsGetErrors = {
    /**
     * Error (RFC 7807)
     */
    default: ProblemdetailsProblemDetails;
};

export type TenantsGetError = TenantsGetErrors[keyof TenantsGetErrors];

export type TenantsGetResponses = {
    /**
     * Tenant found
     */
    200: Tenant;
};

export type TenantsGetResponse = TenantsGetResponses[keyof TenantsGetResponses];

export type TenantsUpdateData = {
    body: UpdateTenant;
    path: {
        tenantId: PrimitivesUuid;
    };
    query?: never;
    url: '/admin/tenants/{tenantId}';
};

export type TenantsUpdateErrors = {
    /**
     * Error (RFC 7807)
     */
    default: ProblemdetailsProblemDetails;
};

export type TenantsUpdateError = TenantsUpdateErrors[keyof TenantsUpdateErrors];

export type TenantsUpdateResponses = {
    /**
     * Tenant updated
     */
    200: Tenant;
};

export type TenantsUpdateResponse = TenantsUpdateResponses[keyof TenantsUpdateResponses];

export type TenantsProvisionData = {
    body?: never;
    path: {
        tenantId: PrimitivesUuid;
    };
    query?: never;
    url: '/admin/tenants/{tenantId}:provision';
};

export type TenantsProvisionErrors = {
    /**
     * Error (RFC 7807)
     */
    default: ProblemdetailsProblemDetails;
};

export type TenantsProvisionError = TenantsProvisionErrors[keyof TenantsProvisionErrors];

export type TenantsProvisionResponses = {
    /**
     * Provisioning started or completed
     */
    202: Tenant;
};

export type TenantsProvisionResponse = TenantsProvisionResponses[keyof TenantsProvisionResponses];

export type TenantsProvisionStatusData = {
    body?: never;
    path: {
        tenantId: PrimitivesUuid;
    };
    query?: never;
    url: '/admin/tenants/{tenantId}:provision-status';
};

export type TenantsProvisionStatusErrors = {
    /**
     * Error (RFC 7807)
     */
    default: ProblemdetailsProblemDetails;
};

export type TenantsProvisionStatusError = TenantsProvisionStatusErrors[keyof TenantsProvisionStatusErrors];

export type TenantsProvisionStatusResponses = {
    /**
     * Provisioning status
     */
    200: TenantProvisioningStatus;
};

export type TenantsProvisionStatusResponse = TenantsProvisionStatusResponses[keyof TenantsProvisionStatusResponses];
