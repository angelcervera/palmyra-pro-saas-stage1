Singles domain — tests

Table‑driven unit tests for services and handlers. Use httptest and assert RFC7807 ProblemDetails on error paths.
